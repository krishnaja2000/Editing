\renewcommand{\theequation}{\theenumi}
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}

\item We know that centroid divides a median in ratio 2:1. So, by section formulae on median AD,
\begin{align}
\implies \vec{O}=\frac{2\vec{D}+\vec{A}}{3}
\label{eq:centr}
\end{align}
Also D id the midpoint of side BC
\begin{align}
\implies \vec{D}=\frac{\vec{B}+\vec{C}}{2}
\label{eq:pointd}
\end{align}
Substituting \ref{eq:pointd} in \ref{eq:centr} we get
\begin{align}
\implies \vec{O}=\frac{\vec{B}+\vec{C}+\vec{A}}{3}
\end{align}

The following code plots figure \ref{fig:median}
\begin{lstlisting}
codes/median/median.py
\end{lstlisting}
\begin{figure}[!ht]
\centering
\includegraphics[width=\columnwidth]{./codes/median/pyfigs/median.eps}
\caption{Triangle ABC with centroid O}
\label{fig:median}
\end{figure}

\end{enumerate}
